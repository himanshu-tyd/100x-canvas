(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[423],{860:(e,t,s)=>{Promise.resolve().then(s.bind(s,1651))},1651:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var a=s(3475),l=s(8403),r=s(4989),n=s.n(r),o=s(4604),c=s(830);let i=(0,c.A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),d=(0,c.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var u=s(2078),x=s(6604),h=s(3822),m=s(5398);let p=()=>{let[e,t]=(0,l.useState)(!1),s=(0,h.useRouter)();return{loading:e,createRoom:async e=>{try{t(!0);let a=(await m.A.post("/room",e)).data;if(!a.success){x.o.error(a.message);return}x.o.success(a.message),s.push("/canvas/".concat(a.data))}catch(e){return console.log(e),e instanceof Error&&x.o.error(e.message),null}finally{t(!1)}}}};var f=s(545),g=s(5716);let b=(0,c.A)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]),v=e=>{let{room:t}=e;return(0,a.jsxs)(n(),{href:"/canvas/".concat(t.id),className:"group block rounded-xl bg-white/30 hover:bg-white/40 transition-all duration-300 transform hover:scale-102 backdrop-blur-sm border border-white/20 overflow-hidden shadow-lg hover:shadow-xl",children:[(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-slate-800 group-hover:text-blue-600 transition-colors",children:t.slug}),(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-white/50 flex items-center justify-center",children:(0,a.jsx)(b,{className:"w-4 h-4 text-slate-600"})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm text-slate-600",children:(0,a.jsx)(i,{className:"w-4 h-4"})}),(0,a.jsx)("div",{className:"flex items-center justify-between text-sm",children:(0,a.jsxs)("span",{className:"text-slate-500",children:["Created ",new Date(t.createdAt).toLocaleDateString()]})})]})]}),(0,a.jsx)("div",{className:"h-1 w-full bg-gradient-to-r from-blue-500 to-purple-500"})]})},j=()=>{let[e,t]=(0,l.useState)(!1),[s,a]=(0,l.useState)(null),[r,n]=(0,l.useState)([]);return(0,l.useEffect)(()=>{t(!0),(async()=>{try{let e=(await m.A.get("/room")).data;if(!e.succes){a(e.message);return}n(e.data)}catch(e){e instanceof Error&&a(e.message)}finally{t(!1)}})()},[]),{loading:e,error:s,data:r}};var w=s(8038);let N=()=>(0,a.jsx)("div",{className:"w-full flex flex-1 items-center justify-center h-[300px]",children:(0,a.jsx)(w.A,{className:"animate-spin text-blue-600 "})}),y=e=>{let{lable:t}=e;return(0,a.jsx)("div",{className:"flex flex-1 w-full h-[300px] items-center justify-center",children:(0,a.jsx)("p",{className:"text-red-500 font-semibold text-[16px]",children:t})})};var k=s(7413);let A=function(){let[e,t]=(0,l.useState)(""),{loading:s,createRoom:r}=p(),{user:c,setUser:x}=(0,g.S)(),{loading:m,error:b,data:w}=j(),A=(0,h.useRouter)();(0,l.useLayoutEffect)(()=>{(null==c?void 0:c.id)||A.push("/sign-in")},[A,null==c?void 0:c.id]);let S=async s=>{s.preventDefault(),r({name:e}),t("")};return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-[138deg] from-[#AEEAEC] via-[#FFC9D0] to-[#56C5FF]",children:[(0,a.jsx)("header",{className:"w-full px-4 lg:px-6 h-16 flex items-center backdrop-blur-md bg-white/20 border-b border-white/20",children:(0,a.jsxs)("div",{className:"container mx-auto flex items-center justify-between",children:[(0,a.jsxs)(n(),{href:"/",className:"flex items-center justify-center",children:[(0,a.jsx)(o.A,{className:"w-6 h-6 mr-2 text-slate-800"}),(0,a.jsx)("span",{className:"font-bold text-xl text-slate-800",children:"100x Canvas"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-4 py-2 rounded-full bg-white/30 backdrop-blur-sm",children:[(0,a.jsx)(i,{className:"w-4 h-4 text-slate-700"}),(0,a.jsx)("span",{className:"text-sm font-medium text-slate-700",children:null==c?void 0:c.name})]}),(0,a.jsxs)("button",{onClick:()=>{x(null),k.S$||(localStorage.removeItem("user"),localStorage.removeItem("token"),A.push("/"))},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-800 text-white hover:bg-slate-700 transition-all duration-300",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),(0,a.jsx)("main",{className:"flex-1 container mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-slate-800",children:"Your Canvas Rooms"}),(0,a.jsx)("p",{className:"text-slate-600 mt-1",children:"Create or join existing rooms to start collaborating"})]}),(0,a.jsxs)("button",{onClick:()=>{var e;return null===(e=document.getElementById("createRoomInput"))||void 0===e?void 0:e.focus()},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-white/95 text-blue-600 font-semibold hover:bg-white transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl backdrop-blur-sm",children:[(0,a.jsx)(d,{className:"w-5 h-5"}),"New Room"]})]}),(0,a.jsx)("div",{className:"backdrop-blur-md bg-white/20 rounded-xl p-6 shadow-lg border border-white/20",children:(0,a.jsxs)("form",{onSubmit:S,className:"flex gap-4",children:[(0,a.jsx)("input",{id:"createRoomInput",type:"text",value:e,onChange:e=>t(e.target.value),className:"flex-1 px-4 py-3 rounded-lg bg-white/50 backdrop-blur-sm border border-white/30 focus:ring-2 focus:ring-blue-500 focus:border-transparent placeholder-slate-500 text-slate-800",placeholder:"Enter room name...",required:!0}),(0,a.jsx)("button",{type:"submit",className:"px-6 py-3 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl backdrop-blur-sm flex items-center gap-2",children:s?(0,a.jsx)(f.A,{}):(0,a.jsxs)(a.Fragment,{children:["Create Room",(0,a.jsx)(u.A,{className:"w-5 h-5"})]})})]})}),m?(0,a.jsx)(N,{}):b?(0,a.jsx)(y,{lable:b}):(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[w.map((e,t)=>(0,a.jsx)(v,{room:e},t)),w.length<0&&(0,a.jsx)("div",{className:"col-span-full text-center py-12 backdrop-blur-md bg-white/20 rounded-xl",children:(0,a.jsx)("p",{className:"text-slate-600",children:"No rooms created yet"})})]})]})})]})}},545:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(3475);s(8403);var l=s(8038);let r=()=>(0,a.jsx)(l.A,{className:"animate-spin"})},5716:(e,t,s)=>{"use strict";s.d(t,{S:()=>c,default:()=>o});var a=s(3475),l=s(7413),r=s(8403);let n=(0,r.createContext)(null),o=e=>{let{children:t}=e,[s,o]=(0,r.useState)(null);return(0,r.useEffect)(()=>{if(l.S$)return;let e=window.localStorage.getItem("user");e&&o(JSON.parse(e))},[]),(0,a.jsxs)(n.Provider,{value:{setUser:o,user:s},children:[" ",t]})},c=()=>{let e=(0,r.useContext)(n);if(e)return e;throw Error("Please Make sure you are login")}},5398:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(9608),l=s(1703);let r=a.A.create({baseURL:l.T,withCredentials:!0})},1703:(e,t,s)=>{"use strict";s.d(t,{T:()=>a,k:()=>l});let a="http://localhost:3001",l="ws://localhost:8080"},7413:(e,t,s)=>{"use strict";s.d(t,{Bl:()=>a,S$:()=>l,Sh:()=>n,user:()=>r});let a=()=>new Date().getFullYear(),l=!1,r=(()=>{if(!l)return JSON.parse(localStorage.getItem("user")||"{}")})(),n=(()=>{if(!l)return localStorage.getItem("token")})()},3822:(e,t,s)=>{"use strict";var a=s(8738);s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}})},2078:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(830).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},8038:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(830).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[604,176,227,568,395,358],()=>t(860)),_N_E=e.O()}]);