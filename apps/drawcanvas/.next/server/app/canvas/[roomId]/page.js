(()=>{var e={};e.id=42,e.ids=[42],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2412:e=>{"use strict";e.exports=require("assert")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},5591:e=>{"use strict";e.exports=require("https")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},7910:e=>{"use strict";e.exports=require("stream")},3997:e=>{"use strict";e.exports=require("tty")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},6456:e=>{"use strict";e.exports=require("zlib")},7568:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>d,routeModule:()=>u,tree:()=>c});var s=r(5086),o=r(9673),i=r(3729),n=r.n(i),a=r(2206),l={};for(let e in a)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);r.d(t,l);let c=["",{children:["canvas",{children:["[roomId]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,2131)),"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\app\\canvas\\[roomId]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,8940))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,1731)),"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,8865)),"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\app\\not-found.tsx"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,8570,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,4851,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,8940))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\app\\canvas\\[roomId]\\page.tsx"],h={require:r,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/canvas/[roomId]/page",pathname:"/canvas/[roomId]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},1709:(e,t,r)=>{Promise.resolve().then(r.bind(r,2384)),Promise.resolve().then(r.bind(r,7875))},8973:(e,t,r)=>{Promise.resolve().then(r.bind(r,3429)),Promise.resolve().then(r.bind(r,251))},6953:(e,t,r)=>{Promise.resolve().then(r.bind(r,8865))},7577:(e,t,r)=>{Promise.resolve().then(r.bind(r,9777))},8044:(e,t,r)=>{Promise.resolve().then(r.bind(r,4694)),Promise.resolve().then(r.bind(r,1876))},6188:(e,t,r)=>{Promise.resolve().then(r.bind(r,222)),Promise.resolve().then(r.bind(r,8392))},5451:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,6865,23)),Promise.resolve().then(r.t.bind(r,8169,23)),Promise.resolve().then(r.t.bind(r,3729,23)),Promise.resolve().then(r.t.bind(r,4656,23)),Promise.resolve().then(r.t.bind(r,3872,23)),Promise.resolve().then(r.t.bind(r,7476,23)),Promise.resolve().then(r.t.bind(r,3611,23))},6067:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,3713,23)),Promise.resolve().then(r.t.bind(r,1017,23)),Promise.resolve().then(r.t.bind(r,6321,23)),Promise.resolve().then(r.t.bind(r,1024,23)),Promise.resolve().then(r.t.bind(r,5168,23)),Promise.resolve().then(r.t.bind(r,4436,23)),Promise.resolve().then(r.t.bind(r,4256,23))},3429:(e,t,r)=>{"use strict";r.d(t,{default:()=>j});var s=r(6478),o=r(8477),i=r(5599);let n=({item:e,handleClick:t,currentShape:r,theme:o})=>{let i=r===e.name,n="dark"===o;return(0,s.jsxs)("div",{className:`
        relative cursor-pointer p-2 rounded-md group 
        transition-all duration-300 
         ${i?n?"bg-[#16161a] hover:bg-indigo-200":"bg-indigo-100 hover:bg-[#9191b1]":n?"bg-[#232329]  hover:bg-[#16161a]":"bg-white hover:bg-indigo-50"}
        `,onClick:()=>t(e.name),onKeyDown:r=>{("Enter"===r.key||" "===r.key)&&(r.preventDefault(),t(e.name))},children:[(0,s.jsx)("span",{className:`
          block relative text-base
          ${n?"text-slate-200  ":"text-[#232329]"}
          ${i&&!n&&"text-indigo-900"}
        `,children:e.icon}),(0,s.jsx)("span",{className:`
          capitalize absolute left-1/2 -translate-x-1/2 -bottom-8
          text-xs py-1 px-2 rounded-md whitespace-nowrap
          opacity-0 group-hover:opacity-100
          transition-all duration-200
          ${n?"bg-[#282830] text-indigo-50":"bg-white text-slate-900 shadow-lg"}
        `,children:e.name})]})};var a=r(8427);let l=(0,a.A)("Hand",[["path",{d:"M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2",key:"1fvzgz"}],["path",{d:"M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2",key:"1kc0my"}],["path",{d:"M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8",key:"10h0bg"}],["path",{d:"M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15",key:"1s1gnw"}]]),c=(0,a.A)("MousePointer2",[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]]),d=(0,a.A)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]),h=(0,a.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),u=(0,a.A)("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),p=(0,a.A)("MoveRight",[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]]),f=(0,a.A)("Triangle",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]),x=(0,a.A)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),m=(0,a.A)("Diamond",[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]]),b=[{name:"hand",icon:(0,i.createElement)(l)},{name:"pointer",icon:(0,i.createElement)(c)},{name:"square",icon:(0,i.createElement)(d)},{name:"pencil",icon:(0,i.createElement)(h)},{name:"eclipse",icon:(0,i.createElement)(u)},{name:"arrow",icon:(0,i.createElement)(p)},{name:"triangle",icon:(0,i.createElement)(f)},{name:"line",icon:(0,i.createElement)(x)},{name:"diamond",icon:(0,i.createElement)(m)}],v=[{title:"stroke",element:["1E1E1E","E03131","2F9E44","1971C2","F08C00"]},{title:"background",element:["FFFFFF","FFC9C9","B2F2BB","A5D8FF","FFEC99"]}];var E=r(7742),g=r(8392);let C=async e=>{try{let t=(await E.A.get(`/chats/${e}`)).data;if(!t.success)return g.o.error(t.message),{};let r=t.data;if(!r)return;return r?.map(e=>(console.log("xx",e),JSON.parse(e.message).shape))}catch(e){return e instanceof Error&&g.o.error(e.message),console.log(e),{}}};class y{constructor(e,t,r){this.seletedTool=null,this.strokeColor="",this.fillColor="",this.allLines=[],this.currentLine=[],this.getMouseProp=e=>{let t=this.canvas.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}},this.canvas=e,this.ctx=e.getContext("2d"),this.existingShapes=[],this.roomId=t,this.socket=r,this.clickMouse=!1,this.startX=0,this.startY=0,this.inittDraw(),this.initHandler(),this.initMouseHandler()}setTool(e){this.seletedTool=e}setStrokeColor(e){this.strokeColor=`#${e}`}setFillColor(e){this.fillColor=`#${e}`}async inittDraw(){this.existingShapes=await C(this.roomId),this.clearCanvas()}initHandler(){this.socket.onmessage=e=>{let t=JSON.parse(e.data);if("chat"===t.type){let e=JSON.parse(t.message);this.existingShapes.push(e.shape),this.clearCanvas()}}}initMouseHandler(){this.canvas.addEventListener("mousedown",e=>{this.clickMouse=!0;let t=this.getMouseProp(e);this.startX=t.x,this.startY=t.y,this.currentLine=[{x:this.startX,y:this.startY,strokeColor:this.strokeColor}],this.allLines.push(this.currentLine)}),this.canvas.addEventListener("mousemove",e=>{if(!this.clickMouse)return;let t=this.getMouseProp(e),r=t.x-this.startX,s=t.y-this.startY;switch(this.clearCanvas(),this.seletedTool){case"hand":break;case"square":this.ctx.strokeStyle=this.strokeColor,"#FFFFFF"!==this.fillColor&&(this.ctx.fillStyle=this.fillColor,this.ctx.fillRect(this.startX,this.startY,r,s)),this.ctx.strokeRect(this.startX,this.startY,r,s);break;case"eclipse":let o=Math.max(r,s)/2,i=this.startX+o,n=this.startY+o;this.ctx.beginPath(),this.ctx.arc(i,n,Math.abs(o),0,2*Math.PI),"#FFFFFF"!==this.fillColor&&(this.ctx.fillStyle=this.fillColor,this.ctx.fill()),this.ctx.stroke(),this.ctx.closePath();break;case"pencil":this.currentLine.push({x:t.x,y:t.y,strokeColor:this.strokeColor}),this.ctx.beginPath(),this.ctx.lineJoin="round",this.ctx.lineCap="round",this.ctx.lineWidth=2,this.allLines.forEach(e=>{this.ctx.beginPath(),this.ctx.moveTo(e[0].x,e[0].y);for(let t=1;t<e.length;t++)this.ctx.strokeStyle=e[0].strokeColor,this.ctx.lineTo(e[t].x,e[t].y);this.ctx.stroke()});break;case"triangle":this.ctx.beginPath(),this.ctx.moveTo(this.startX,this.startY),this.ctx.lineTo(this.startX-r/2,this.startY+s/2),this.ctx.lineTo(this.startX+r/2,this.startY+s/2),"#FFFFFF"!==this.fillColor&&(this.ctx.fillStyle=this.fillColor,this.ctx.fill()),this.ctx.closePath(),this.ctx.strokeStyle=this.strokeColor,this.ctx.lineWidth=1,this.ctx.stroke();break;case"diamond":this.ctx.beginPath(),this.ctx.moveTo(this.startX,this.startY),this.ctx.lineTo(this.startX-r/2,this.startY+s/2),this.ctx.lineTo(this.startX,this.startY+s),this.ctx.lineTo(this.startX+r/2,this.startY+s/2),"#FFFFFF"!==this.fillColor&&(this.ctx.fillStyle=this.fillColor,this.ctx.fill()),this.ctx.closePath(),this.ctx.strokeStyle=this.strokeColor,this.ctx.lineWidth=1,this.ctx.stroke();break;case"line":this.ctx.beginPath(),this.ctx.strokeStyle=this.strokeColor,this.ctx.moveTo(this.startX,this.startY),this.ctx.lineTo(t.x,t.y),this.ctx.closePath(),this.ctx.lineWidth=1,this.ctx.stroke();break;case"arrow":let a=t.x,l=t.y,c=Math.atan2(s,r),d=a-15*Math.cos(c-Math.PI/6),h=l-15*Math.sin(c-Math.PI/6),u=a-15*Math.cos(c+Math.PI/6),p=l-15*Math.sin(c+Math.PI/6);this.ctx.strokeStyle=this.strokeColor,this.ctx.beginPath(),this.ctx.moveTo(this.startX,this.startY),this.ctx.lineTo(a,l),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(a,l),this.ctx.lineTo(d,h),this.ctx.stroke(),console.log(a,l),this.ctx.beginPath(),this.ctx.moveTo(a,l),this.ctx.lineTo(u,p),this.ctx.stroke()}}),this.canvas.addEventListener("mouseup",e=>{this.clickMouse=!1;let t=this.getMouseProp(e),r=t.x-this.startX,s=t.y-this.startY,o=null;switch(this.seletedTool){case"square":o={type:"square",x:this.startX,y:this.startY,width:r,height:s,isFill:!!(this.fillColor&&"#FFFFFF"!==this.fillColor.toUpperCase()),fillColor:this.fillColor,strokeColor:this.strokeColor};break;case"eclipse":{let e=Math.max(r,s)/2;o={type:"eclipse",centerX:this.startX+e,centerY:this.startY+e,isFill:!!(this.fillColor&&"#FFFFFF"!==this.fillColor.toUpperCase()),fillColor:this.fillColor,strokeColor:this.strokeColor,radius:Math.abs(e)}}break;case"pencil":this.currentLine=[],o={type:"pencil",points:this.allLines,strokeColor:this.strokeColor};break;case"triangle":o={type:"triangle",moveX:this.startX,moveY:this.startY,lineToLeftX:this.startX-r/2,lineToLeftY:this.startY+s/2,lineToRightX:this.startX+r/2,lineToRightY:this.startY+s/2,isFill:"#FFFFFF"!==this.fillColor,fillColor:this.fillColor,strokeColor:this.strokeColor};break;case"diamond":o={type:"diamond",moveX:this.startX,moveY:this.startY,topLeftX:this.startX-r/2,topLeftY:this.startY+s/2,buttonLeftX:this.startX,buttonLeftY:this.startY+s,topRightX:this.startX+r/2,topRightY:this.startY+s/2,isFill:"#FFFFFF"!==this.fillColor,fillColor:this.fillColor,strokeColor:this.strokeColor};break;case"line":o={type:"line",moveX:this.startX,moveY:this.startY,lineToX:t.x,lineToY:t.y,strokeColor:this.strokeColor};break;case"arrow":let i=t.x,n=t.y,a=Math.atan2(s,r),l=i-15*Math.cos(a-Math.PI/6),c=n-15*Math.sin(a-Math.PI/6),d=i-15*Math.cos(a+Math.PI/6),h=n-15*Math.sin(a+Math.PI/6);o={type:"arrow",strokeColor:this.strokeColor,moveToX:this.startX,moveToY:this.startY,mainLineX:i,mainLineY:n,line1MoveToX:i,line1MoveToY:n,line2MoveToX:i,line2MoveToY:n,line1X:l,line1Y:c,line2X:d,line2Y:h}}console.log(o),o&&(this.existingShapes?.push(o),this.socket.send(JSON.stringify({type:"chat",message:JSON.stringify({shape:o}),roomId:this.roomId})))})}clearCanvas(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.lineWidth=1,this.existingShapes?.map(e=>{switch(e.type){case"square":this.ctx.strokeStyle=e.strokeColor,e.isFill&&(this.ctx.fillStyle=e.fillColor,this.ctx.fillRect(e.x,e.y,e.width,e.height)),this.ctx.strokeRect(e.x,e.y,e.width,e.height);break;case"eclipse":this.ctx.beginPath(),this.ctx.arc(e.centerX,e.centerY,e.radius,0,2*Math.PI),e.isFill&&(this.ctx.fillStyle=e.fillColor,this.ctx.fill()),this.ctx.strokeStyle=e.strokeColor,this.ctx.stroke(),this.ctx.closePath();break;case"triangle":this.ctx.beginPath(),this.ctx.moveTo(e.moveX,e.moveY),this.ctx.lineTo(e.lineToLeftX,e.lineToLeftY),this.ctx.lineTo(e.lineToRightX,e.lineToRightY),e.isFill&&(this.ctx.fillStyle=e.fillColor,this.ctx.fill()),this.ctx.closePath(),this.ctx.strokeStyle=e.strokeColor,this.ctx.stroke();break;case"diamond":this.ctx.beginPath(),this.ctx.moveTo(e.moveX,e.moveY),this.ctx.lineTo(e.topLeftX,e.topLeftY),this.ctx.lineTo(e.buttonLeftX,e.buttonLeftY),this.ctx.lineTo(e.topRightX,e.topRightY),e.isFill&&(this.ctx.fillStyle=e.fillColor,this.ctx.fill()),this.ctx.closePath(),this.ctx.strokeStyle=e.strokeColor,this.ctx.stroke();break;case"line":this.ctx.beginPath(),this.ctx.strokeStyle=e.strokeColor,this.ctx.moveTo(e.moveX,e.moveY),this.ctx.lineTo(e.lineToX,e.lineToY),this.ctx.closePath(),this.ctx.stroke();break;case"arrow":this.ctx.beginPath(),this.ctx.strokeStyle=e.strokeColor,this.ctx.moveTo(e.moveToX,e.moveToY),this.ctx.lineTo(e.mainLineX,e.mainLineY),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(e.line1MoveToX,e.line1MoveToY),this.ctx.lineTo(e.line1X,e.line1Y),this.ctx.stroke(),this.ctx.beginPath(),this.ctx.moveTo(e.line2MoveToX,e.line2MoveToY),this.ctx.lineTo(e.line2X,e.line2Y),this.ctx.stroke();break;case"pencil":e.points.forEach(e=>{this.ctx.beginPath(),this.ctx.moveTo(e[0].x,e[0].y);for(let t=1;t<e.length;t++)this.ctx.strokeStyle=e[0].strokeColor,this.ctx.lineTo(e[t].x,e[t].y);this.ctx.stroke()})}})}}let k=({items:e,selectedBackground:t,setSelectedBackground:r,selectedColor:o,setSelectedColor:n})=>{let[a,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1);console.log("strroke",o);let h=(e,t)=>{"stroke"===t&&(n(e||"1E1E1E"),l(!0),d(!1)),"background"===t&&(r(e),d(!0),l(!1))};return console.log(t,o),(0,s.jsxs)("div",{className:"flex flex-col px-2 py-3 font-normal text-[10px] capitalize space-y-1",children:[(0,s.jsx)("span",{children:e.title}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[e.element.map(t=>(0,s.jsx)("div",{onClick:()=>h(t,e.title),className:"w-6 h-6 cursor-pointer rounded-md border border-gray-300 hover:border hover:border-gray-700 p-1  ",style:{backgroundColor:`#${t}`}},t)),(0,s.jsx)("div",{className:"w-[2px] h-2 rounded-lg bg-gray-300"}),(0,s.jsx)("div",{className:"w-7 h-7  rounded-md outline-2 outline-indigo-100 outline ",style:{backgroundColor:a?`#${o||"1E1E1E"}`:c?`#${t||"transparent"}`:"transparent"}})]})]})},R=(0,a.A)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),w=(0,a.A)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),T=({roomId:e,socket:t})=>{let r=(0,i.useRef)(null),[o,a]=(0,i.useState)(null),[l,c]=(0,i.useState)(),[d,h]=(0,i.useState)({w:window.innerWidth,h:window.innerHeight}),[u,p]=(0,i.useState)("1E1E1E"),[f,x]=(0,i.useState)("FFFFFF"),[m,E]=(0,i.useState)("light"),g="light"===m;(0,i.useEffect)(()=>{let e=()=>{h({h:window.innerHeight,w:window.innerWidth})};return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,i.useEffect)(()=>{l?.setTool(o),l?.setStrokeColor(u),l?.setFillColor(f)},[o,l,u,f]),(0,i.useEffect)(()=>{r.current&&c(new y(r.current,e,t))},[r,e,t]);let C=e=>{a(e)};return(0,s.jsxs)("div",{className:"flex w-screen h-screen justify-center",children:[(0,s.jsx)("div",{className:`
        p-2 flex items-center justify-center gap-2 
        fixed top-4 left-1/2 -translate-x-1/2 z-20
        rounded-xl shadow-lg
        ${g?"bg-white/95 border border-slate-200":"bg-[#232329] border border-slate-700"}
        backdrop-blur-sm transition-colors duration-300
      `,children:b.map((e,t)=>(0,s.jsx)(n,{item:e,currentShape:o,handleClick:C,theme:m},t))}),(0,s.jsx)("div",{className:`w-[212px] z-20 h-[468px] rounded-lg top-0 shadow-sm fixed left-0 translate-x-5 translate-y-[calc(100%-75%)] 
          ${g?"bg-white border-slate-200 border-[.4px]":"bg-[#232329] text-white border-slate-700 border-[.4px]"}`,children:v.map((e,t)=>(0,s.jsx)(k,{items:{title:e.title,element:[...e.element]},selectedBackground:f,setSelectedBackground:x,setSelectedColor:p,selectedColor:u},t))}),(0,s.jsx)("div",{className:`fixed top-5 z-20 right-5 -translate-x-5 rounded-full  shadow-md border  p-2 flex items-center justify-center clicked-effect ${g?"bg-white/95 border-slate-200 ":"bg-[#232329] text-white/95 border-slate-500 "} `,children:(0,s.jsx)("button",{onClick:()=>{E("light"===m?"dark":"light")},"aria-label":`Switch to ${g?"dark":"light"} mode`,children:g?(0,s.jsx)(R,{}):(0,s.jsx)(w,{})})}),(0,s.jsx)("canvas",{ref:r,height:d.h,width:d.w,className:`fixed block ${g?"bg-slate-50":"bg-[#121212]"}`})]})};var P=r(251);let j=({roomId:e})=>{let[t,r]=(0,i.useState)(null);return((0,i.useEffect)(()=>{let t=new WebSocket(`${o.k}?token=${P.Sh}`);t.onopen=()=>{r(t),t.send(JSON.stringify({type:"join_room",roomId:e}))}},[e]),t)?(0,s.jsx)(T,{roomId:e,socket:t}):(0,s.jsx)("div",{className:"flex w-screen h-screen items-center justify-center",children:(0,s.jsx)("span",{className:"text-purple-600 ",children:"We are getting you shape please wait.\uD83D\uDE42"})})}},9777:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var s=r(6478);r(5599);var o=r(2949),i=r.n(o),n=r(8794),a=r(1095),l=r(3931),c=r(3160);let d=()=>{let e=(0,c.useRouter)();return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-[138deg] from-[#AEEAEC] via-[#FFC9D0] to-[#56C5FF]",children:[(0,s.jsx)("header",{className:"w-full px-4 lg:px-6 h-16 flex items-center backdrop-blur-md bg-white/20 border-b border-white/20",children:(0,s.jsxs)(i(),{href:"/",className:"flex items-center justify-center",children:[(0,s.jsx)(n.A,{className:"w-6 h-6 mr-2 text-slate-800"}),(0,s.jsx)("span",{className:"font-bold text-xl text-slate-800",children:"100x Canvas"})]})}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center px-4 sm:px-6 lg:px-8",children:[(0,s.jsxs)("div",{className:"text-center backdrop-blur-md bg-white/20 p-8 rounded-xl border border-white/20 shadow-lg",children:[(0,s.jsx)("div",{className:"flex justify-center mb-8",children:(0,s.jsx)("div",{className:"w-24 h-24 rounded-full bg-white/50 flex items-center justify-center",children:(0,s.jsx)(n.A,{className:"h-12 w-12 text-slate-800"})})}),(0,s.jsx)("h1",{className:"text-6xl font-bold text-slate-800 mb-4",children:"404"}),(0,s.jsx)("h2",{className:"text-3xl font-semibold text-slate-800 mb-6",children:"Page not found"}),(0,s.jsx)("p",{className:"text-lg text-slate-700 mb-8 max-w-md mx-auto",children:" Sorry, we couldn't find the page you're looking for. It might have been moved or doesn't exist."}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[(0,s.jsxs)(i(),{href:"/",className:"inline-flex items-center px-6 py-3 rounded-lg bg-slate-800 text-white hover:bg-slate-700 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[(0,s.jsx)(a.A,{className:"w-5 h-5 mr-2"}),"Back to home"]}),(0,s.jsxs)("button",{onClick:()=>e.back(),className:"inline-flex items-center px-6 py-3 rounded-lg bg-white/95 text-slate-800 hover:bg-white transition-all duration-300 transform hover:scale-105 shadow-lg backdrop-blur-sm",children:[(0,s.jsx)(l.A,{className:"w-5 h-5 mr-2"}),"Go back"]})]})]}),(0,s.jsx)("div",{className:"mt-16 text-center",children:(0,s.jsxs)("p",{className:"text-slate-700 text-sm",children:["Need help?"," ",(0,s.jsx)(i(),{href:"/contact",className:"text-blue-600 hover:text-blue-500 transition-colors",children:"Contact support"})]})})]})]})}},222:(e,t,r)=>{"use strict";r.d(t,{S:()=>l,default:()=>a});var s=r(6478),o=r(251),i=r(5599);let n=(0,i.createContext)(null),a=({children:e})=>{let[t,r]=(0,i.useState)(null);return(0,i.useEffect)(()=>{if(o.S$)return;let e=window.localStorage.getItem("user");e&&r(JSON.parse(e))},[]),(0,s.jsxs)(n.Provider,{value:{setUser:r,user:t},children:[" ",e]})},l=()=>{let e=(0,i.useContext)(n);if(e)return e;throw Error("Please Make sure you are login")}},7742:(e,t,r)=>{"use strict";r.d(t,{A:()=>i});var s=r(5738),o=r(8477);let i=s.A.create({baseURL:o.T,withCredentials:!0})},8477:(e,t,r)=>{"use strict";r.d(t,{T:()=>s,k:()=>o});let s="http://localhost:3001",o="ws://localhost:8080"},251:(e,t,r)=>{"use strict";r.d(t,{Bl:()=>s,S$:()=>o,Sh:()=>n,user:()=>i});let s=()=>new Date().getFullYear(),o=!0,i=(()=>{if(!o)return JSON.parse(localStorage.getItem("user")||"{}")})(),n=(()=>{if(!o)return localStorage.getItem("token")})()},2384:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(6326).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\MY-STUF\\\\DEV-LEARNING\\\\COHART-3.O\\\\WEB-DEV\\\\WEEK-22-EXCELIDRAW\\\\apps\\\\drawcanvas\\\\app\\\\_componets\\\\RoomCanvas.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\app\\_componets\\RoomCanvas.tsx","default")},2131:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(4182),o=r(2384),i=r(2729),n=r(7875);let a=async({params:e})=>{n.user||(0,i.redirect)("/sign-in");let t=(await e).roomId;return console.log(t),(0,s.jsx)(o.default,{roomId:t})}},1731:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h,metadata:()=>d});var s=r(4182),o=r(7096),i=r.n(o),n=r(9590),a=r.n(n);r(2560);var l=r(1876),c=r(4694);let d={title:"100x | Canvas",description:"Make your canvas"};function h({children:e}){return(0,s.jsx)("html",{lang:"en",children:(0,s.jsxs)("body",{className:`${i().variable} ${a().variable} antialiased`,children:[(0,s.jsx)(c.default,{children:e}),(0,s.jsx)(l.Toaster,{richColors:!0})]})})}},8865:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(6326).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\MY-STUF\\\\DEV-LEARNING\\\\COHART-3.O\\\\WEB-DEV\\\\WEEK-22-EXCELIDRAW\\\\apps\\\\drawcanvas\\\\app\\\\not-found.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\app\\not-found.tsx","default")},4694:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(6326);(0,s.registerClientReference)(function(){throw Error("Attempted to call AuthContext() from the server but AuthContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\context\\AuthContext.tsx","AuthContext");let o=(0,s.registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\MY-STUF\\\\DEV-LEARNING\\\\COHART-3.O\\\\WEB-DEV\\\\WEEK-22-EXCELIDRAW\\\\apps\\\\drawcanvas\\\\context\\\\AuthContext.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\context\\AuthContext.tsx","default");(0,s.registerClientReference)(function(){throw Error("Attempted to call getContext() from the server but getContext is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\context\\AuthContext.tsx","getContext")},7875:(e,t,r)=>{"use strict";r.d(t,{user:()=>o});var s=r(6326);(0,s.registerClientReference)(function(){throw Error("Attempted to call getFullYear() from the server but getFullYear is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\lib\\helper.ts","getFullYear"),(0,s.registerClientReference)(function(){throw Error("Attempted to call isServer() from the server but isServer is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\lib\\helper.ts","isServer"),(0,s.registerClientReference)(function(){throw Error("Attempted to call getUser() from the server but getUser is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\lib\\helper.ts","getUser"),(0,s.registerClientReference)(function(){throw Error("Attempted to call getToken() from the server but getToken is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\lib\\helper.ts","getToken");let o=(0,s.registerClientReference)(function(){throw Error("Attempted to call user() from the server but user is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\lib\\helper.ts","user");(0,s.registerClientReference)(function(){throw Error("Attempted to call token() from the server but token is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\MY-STUF\\DEV-LEARNING\\COHART-3.O\\WEB-DEV\\WEEK-22-EXCELIDRAW\\apps\\drawcanvas\\lib\\helper.ts","token")},5161:(e,t,r)=>{"use strict";function s(){throw Error("`forbidden()` is experimental and only allowed to be enabled when `experimental.authInterrupts` is enabled.")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"forbidden",{enumerable:!0,get:function(){return s}}),r(1153).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2769:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isNextRouterError",{enumerable:!0,get:function(){return i}});let s=r(1153),o=r(2665);function i(e){return(0,o.isRedirectError)(e)||(0,s.isHTTPAccessFallbackError)(e)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2729:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{ReadonlyURLSearchParams:function(){return d},RedirectType:function(){return o.RedirectType},forbidden:function(){return n.forbidden},notFound:function(){return i.notFound},permanentRedirect:function(){return s.permanentRedirect},redirect:function(){return s.redirect},unauthorized:function(){return a.unauthorized},unstable_rethrow:function(){return l.unstable_rethrow}});let s=r(9362),o=r(2665),i=r(9800),n=r(5161),a=r(8316),l=r(4860);class c extends Error{constructor(){super("Method unavailable on `ReadonlyURLSearchParams`. Read more: https://nextjs.org/docs/app/api-reference/functions/use-search-params#updating-searchparams")}}class d extends URLSearchParams{append(){throw new c}delete(){throw new c}set(){throw new c}sort(){throw new c}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9800:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"notFound",{enumerable:!0,get:function(){return o}});let s=""+r(1153).HTTP_ERROR_FALLBACK_ERROR_CODE+";404";function o(){let e=Error(s);throw e.digest=s,e}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2665:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{REDIRECT_ERROR_CODE:function(){return o},RedirectType:function(){return i},isRedirectError:function(){return n}});let s=r(2631),o="NEXT_REDIRECT";var i=function(e){return e.push="push",e.replace="replace",e}({});function n(e){if("object"!=typeof e||null===e||!("digest"in e)||"string"!=typeof e.digest)return!1;let t=e.digest.split(";"),[r,i]=t,n=t.slice(2,-2).join(";"),a=Number(t.at(-2));return r===o&&("replace"===i||"push"===i)&&"string"==typeof n&&!isNaN(a)&&a in s.RedirectStatusCode}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},2631:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RedirectStatusCode",{enumerable:!0,get:function(){return r}});var r=function(e){return e[e.SeeOther=303]="SeeOther",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e}({});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},9362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{getRedirectError:function(){return n},getRedirectStatusCodeFromError:function(){return h},getRedirectTypeFromError:function(){return d},getURLFromRedirectError:function(){return c},permanentRedirect:function(){return l},redirect:function(){return a}});let s=r(9121),o=r(2631),i=r(2665);function n(e,t,r){void 0===r&&(r=o.RedirectStatusCode.TemporaryRedirect);let s=Error(i.REDIRECT_ERROR_CODE);return s.digest=i.REDIRECT_ERROR_CODE+";"+t+";"+e+";"+r+";",s}function a(e,t){let r=s.actionAsyncStorage.getStore();throw n(e,t||((null==r?void 0:r.isAction)?i.RedirectType.push:i.RedirectType.replace),o.RedirectStatusCode.TemporaryRedirect)}function l(e,t){throw void 0===t&&(t=i.RedirectType.replace),n(e,t,o.RedirectStatusCode.PermanentRedirect)}function c(e){return(0,i.isRedirectError)(e)?e.digest.split(";").slice(2,-2).join(";"):null}function d(e){if(!(0,i.isRedirectError)(e))throw Error("Not a redirect error");return e.digest.split(";",2)[1]}function h(e){if(!(0,i.isRedirectError)(e))throw Error("Not a redirect error");return Number(e.digest.split(";").at(-2))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8316:(e,t,r)=>{"use strict";function s(){throw Error("`unauthorized()` is experimental and only allowed to be used when `experimental.authInterrupts` is enabled.")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unauthorized",{enumerable:!0,get:function(){return s}}),r(1153).HTTP_ERROR_FALLBACK_ERROR_CODE,("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4860:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"unstable_rethrow",{enumerable:!0,get:function(){return function e(t){if((0,n.isNextRouterError)(t)||(0,i.isBailoutToCSRError)(t)||(0,s.isDynamicUsageError)(t)||(0,o.isPostpone)(t))throw t;t instanceof Error&&"cause"in t&&e(t.cause)}}});let s=r(7763),o=r(5768),i=r(8669),n=r(2769);("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7763:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isDynamicUsageError",{enumerable:!0,get:function(){return a}});let s=r(8804),o=r(8669),i=r(2769),n=r(5774),a=e=>(0,s.isDynamicServerError)(e)||(0,o.isBailoutToCSRError)(e)||(0,i.isNextRouterError)(e)||(0,n.isDynamicPostpone)(e)},5768:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isPostpone",{enumerable:!0,get:function(){return s}});let r=Symbol.for("react.postpone");function s(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}},8669:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{BailoutToCSRError:function(){return s},isBailoutToCSRError:function(){return o}});let r="BAILOUT_TO_CLIENT_SIDE_RENDERING";class s extends Error{constructor(e){super("Bail out to client-side rendering: "+e),this.reason=e,this.digest=r}}function o(e){return"object"==typeof e&&null!==e&&"digest"in e&&e.digest===r}},8940:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(3063);let o=async e=>[{type:"image/svg+xml",sizes:"any",url:(0,s.fillMetadataSegment)(".",await e.params,"icon.svg")+"?4472d15c7f679239"}]},2560:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[394,538,738],()=>r(7568));module.exports=s})();